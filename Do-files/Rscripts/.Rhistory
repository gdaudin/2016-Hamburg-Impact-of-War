}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
summary(m)
fwartime_corr_df(war_strat, "prizes_import",1,0, "log")[[1]]
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log") fwar_strat$findep = log(fwar_strat$findep)
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
findep = "num_prizes"
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log") fwar_strat$findep = log(fwar_strat$findep)
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
fwartime_corr_df(war_strat, "num_prizes",1,0, "log")[[1]]
findep = "num_prizes_priv"
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log") fwar_strat$findep = log(fwar_strat$findep)
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[1]]
summary(m)
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log") fwar_strat$findep = log(fwar_strat$findep)
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
summary(m)
df = data.frame(
"var" = findep,
"coeff" = round(m$coefficients[2], 3),
"pval" = round(summary(m)$coefficients[2,4], 3),
"R2" = round(summary(m)$r.squared, 3)
)
df
m(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(zoo)
library(data.table)
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
HamburgDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
AuxFuncionDir = "AuxFunction/"
source(paste(HamburgPaperDir, RscriptDir,DataframeDir,"fwartime_corr_df.R", sep = "" ))
source(paste(HamburgPaperDir, RscriptDir,AuxFuncionDir,"halt.R", sep = "" ))
loss = read.csv(paste(HamburgDir,"database_csv/mean_annual_loss.csv", sep = ""))
loss = loss[c("year", "loss", "loss_nomemory" )]
colony_loss = read.csv(paste(HamburgDir,"database_csv/colony_loss.csv", sep = ""))
colony_loss = colony_loss[c("year", "weight_france")]
naval_sup = read.csv(paste(HamburgDir,"database_csv/naval_supremacy.csv", sep = ""))
naval_sup = naval_sup[c("year", "France_vs_GB", "ally_vs_foe", "allyandneutral_vs_foe")]
prizes = read.csv(paste(HamburgDir,"database_csv/prizes.csv", sep = ""))
prizes = prizes[c("year", "Number_of_prizes_Total_All",
"Number_of_prizes_Privateers_All", "importofprizegoodspoundsterling")]
hotelling = read.csv(paste(HamburgDir,"database_csv/temp_for_hotelling.csv", sep = ""))
#merge loss function db with wartime strageties db
war_strat = left_join(loss, colony_loss, by = "year")
war_strat = left_join(war_strat, naval_sup, by = "year")
war_strat = left_join(war_strat, prizes, by = "year")
#rename variables
names(war_strat)[names(war_strat) == "importofprizegoodspoundsterling"] = "prizes_import"
names(war_strat)[names(war_strat) == "Number_of_prizes_Total_All"] = "num_prizes"
names(war_strat)[names(war_strat) == "Number_of_prizes_Privateers_All"] = "num_prizes_priv"
names(war_strat)[names(war_strat) == "weight_france"] = "colonial_empire"
#create war variable
war_strat$Wcut= cut(war_strat$year,
breaks=c(1739,1748,1755,1763,1777,1783, 1792, 1807,1815, 1840),
labels = FALSE)
war_strat$war = ifelse(((war_strat$Wcut %% 2) == 0), 0, 1)
war_strat$war = ifelse((war_strat$Wcut == 9), 0, war_strat$war)
war_strat$war = ifelse((war_strat$Wcut == 8), 1, war_strat$war)
#create major battle variable
war_strat$battle= cut(war_strat$year,
breaks=c(1739,1746,1747,1758,1760,1761,1762, 1793, 1794,1797, 1798, 1804, 1806,1808, 1809, 1821),
labels = FALSE)
war_strat$battle_dummy = ifelse(((war_strat$Wcut %% 2) == 0), 1, 0)
fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[1]]
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(zoo)
library(data.table)
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
HamburgDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
AuxFuncionDir = "AuxFunction/"
source(paste(HamburgPaperDir, RscriptDir,DataframeDir,"fwartime_corr_df.R", sep = "" ))
source(paste(HamburgPaperDir, RscriptDir,AuxFuncionDir,"halt.R", sep = "" ))
loss = read.csv(paste(HamburgDir,"database_csv/mean_annual_loss.csv", sep = ""))
loss = loss[c("year", "loss", "loss_nomemory" )]
colony_loss = read.csv(paste(HamburgDir,"database_csv/colony_loss.csv", sep = ""))
colony_loss = colony_loss[c("year", "weight_france")]
naval_sup = read.csv(paste(HamburgDir,"database_csv/naval_supremacy.csv", sep = ""))
naval_sup = naval_sup[c("year", "France_vs_GB", "ally_vs_foe", "allyandneutral_vs_foe")]
prizes = read.csv(paste(HamburgDir,"database_csv/prizes.csv", sep = ""))
prizes = prizes[c("year", "Number_of_prizes_Total_All",
"Number_of_prizes_Privateers_All", "importofprizegoodspoundsterling")]
hotelling = read.csv(paste(HamburgDir,"database_csv/temp_for_hotelling.csv", sep = ""))
#merge loss function db with wartime strageties db
war_strat = left_join(loss, colony_loss, by = "year")
war_strat = left_join(war_strat, naval_sup, by = "year")
war_strat = left_join(war_strat, prizes, by = "year")
#rename variables
names(war_strat)[names(war_strat) == "importofprizegoodspoundsterling"] = "prizes_import"
names(war_strat)[names(war_strat) == "Number_of_prizes_Total_All"] = "num_prizes"
names(war_strat)[names(war_strat) == "Number_of_prizes_Privateers_All"] = "num_prizes_priv"
names(war_strat)[names(war_strat) == "weight_france"] = "colonial_empire"
#create war variable
war_strat$Wcut= cut(war_strat$year,
breaks=c(1739,1748,1755,1763,1777,1783, 1792, 1807,1815, 1840),
labels = FALSE)
war_strat$war = ifelse(((war_strat$Wcut %% 2) == 0), 0, 1)
war_strat$war = ifelse((war_strat$Wcut == 9), 0, war_strat$war)
war_strat$war = ifelse((war_strat$Wcut == 8), 1, war_strat$war)
#create major battle variable
war_strat$battle= cut(war_strat$year,
breaks=c(1739,1746,1747,1758,1760,1761,1762, 1793, 1794,1797, 1798, 1804, 1806,1808, 1809, 1821),
labels = FALSE)
war_strat$battle_dummy = ifelse(((war_strat$Wcut %% 2) == 0), 1, 0)
#apply function to all wartime strategies var of interest
#for only war years and no running sum
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "max")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "max")[[1]]
)
#make a df with results of univariate regression
max_wartime_nosum_corr = bind_rows(dflist)
#make a df with results of multivariate regression
max_wartime_nosum_mreg = data.frame(
year = war_strat[war_strat$war==1,]$year,
loss = war_strat[war_strat$war==1,]$loss,
prizes_import=fwartime_corr_df(war_strat, "prizes_import",1,0, "max")[[2]],
num_prizes = fwartime_corr_df(war_strat, "num_prizes",1,0, "max")[[2]],
num_prizes_priv = fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "max")[[2]],
colonial_empire = fwartime_corr_df(war_strat, "colonial_empire",1,0, "max")[[2]],
France_vs_GB = fwartime_corr_df(war_strat, "France_vs_GB",1,0, "max")[[2]],
ally_vs_foe = fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "max")[[2]],
allyandneutral_vs_foe = fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "max")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = max_wartime_nosum_mreg)
#apply function to all wartime strategies var of interest
#for only war years and running sum
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,1, "max")[[1]],
fwartime_corr_df(war_strat, "battle_dummy",1,1, "max")[[1]]
)
#make a df with results
max_wartime_sum_corr = bind_rows(dflist)
#make a df with results of multivariate regression
max_wartime_sum_mreg = data.frame(
year = war_strat[war_strat$war==1,]$year,
loss = war_strat[war_strat$war==1,]$loss,
prizes_import=fwartime_corr_df(war_strat, "prizes_import",1,1, "max")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",1,1, "max")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",1,1, "max")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",1,1, "max")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",1,1, "max")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",1,1, "max")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,1, "max")[[2]],
battle_dummy=fwartime_corr_df(war_strat, "battle_dummy",1,1, "max")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = max_wartime_sum_mreg)
summary(m)
#apply function to all wartime strategies var of interest
#for all years and running sum
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",0,1, "max")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",0,1, "max")[[1]]
)
#make a df with results
max_peacewartime_sum_corr = bind_rows(dflist)
#make a df with results of multivariate regression
max_peacewartime_sum_mreg = data.frame(
year = war_strat$year,
loss = war_strat$loss,
prizes_import=fwartime_corr_df(war_strat, "prizes_import",0,1, "max")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",0,1, "max")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",0,1, "max")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",0,1, "max")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",0,1, "max")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",0,1, "max")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",0,1, "max")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = max_peacewartime_sum_mreg)
summary(m)
fwar_strat = war_strat
findep = "num_prizes_priv"
fonlywar=1
frunning_sum = 0
log_max = "log"
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log") fwar_strat$findep = log(fwar_strat$findep)
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
View(fwar_strat)
View(war_strat)
fwar_strat$findep = ifelse(fwar_strat$findep ==0, NA, fwar_strat$findep)
View(fDwar_strat)
fwar_strat=war_strat
if(fonlywar == 0 & frunning_sum==0) halt()
rescale = FALSE
if(findep=="num_prizes" | findep=="num_prizes_priv" | findep=="prizes_import") rescale = TRUE
names(fwar_strat)[names(fwar_strat) == findep] = "findep"
if(rescale){
fwar_strat$loss = fwar_strat$loss*100
if(log_max=="max") fwar_strat$findep = fwar_strat$findep/max(fwar_strat$findep, na.rm = TRUE)
}
if(frunning_sum==0){
if(log_max=="log"){
fwar_strat$findep = ifelse(fwar_strat$findep ==0, NA, fwar_strat$findep)
fwar_strat$findep = log(fwar_strat$findep)
}
fDwar_strat = fwar_strat[fwar_strat$war==1,]
fDwar_strat$Dfindep = fDwar_strat$findep
}else{
fwar_strat$findep = ifelse(is.na(fwar_strat$findep), 0, fwar_strat$findep)
fwar_strat = setDT(fwar_strat)
fDwar_strat = fwar_strat[,Dfindep:=sapply(1:.N,function(k) sum(0.9**(k-1:k)*head(findep,k)))]
if(log_max=="log") fDwar_strat$Dfindep = log(fDwar_strat$Dfindep)
if(fonlywar==1) fDwar_strat = fwar_strat[fwar_strat$war==1,]
}
m = lm(fDwar_strat$loss~fDwar_strat$Dfindep)
summary(m)
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "log")[[1]]
)
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(zoo)
library(data.table)
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
HamburgDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
AuxFuncionDir = "AuxFunction/"
source(paste(HamburgPaperDir, RscriptDir,DataframeDir,"fwartime_corr_df.R", sep = "" ))
source(paste(HamburgPaperDir, RscriptDir,AuxFuncionDir,"halt.R", sep = "" ))
loss = read.csv(paste(HamburgDir,"database_csv/mean_annual_loss.csv", sep = ""))
loss = loss[c("year", "loss", "loss_nomemory" )]
colony_loss = read.csv(paste(HamburgDir,"database_csv/colony_loss.csv", sep = ""))
colony_loss = colony_loss[c("year", "weight_france")]
naval_sup = read.csv(paste(HamburgDir,"database_csv/naval_supremacy.csv", sep = ""))
naval_sup = naval_sup[c("year", "France_vs_GB", "ally_vs_foe", "allyandneutral_vs_foe")]
prizes = read.csv(paste(HamburgDir,"database_csv/prizes.csv", sep = ""))
prizes = prizes[c("year", "Number_of_prizes_Total_All",
"Number_of_prizes_Privateers_All", "importofprizegoodspoundsterling")]
hotelling = read.csv(paste(HamburgDir,"database_csv/temp_for_hotelling.csv", sep = ""))
#merge loss function db with wartime strageties db
war_strat = left_join(loss, colony_loss, by = "year")
war_strat = left_join(war_strat, naval_sup, by = "year")
war_strat = left_join(war_strat, prizes, by = "year")
#rename variables
names(war_strat)[names(war_strat) == "importofprizegoodspoundsterling"] = "prizes_import"
names(war_strat)[names(war_strat) == "Number_of_prizes_Total_All"] = "num_prizes"
names(war_strat)[names(war_strat) == "Number_of_prizes_Privateers_All"] = "num_prizes_priv"
names(war_strat)[names(war_strat) == "weight_france"] = "colonial_empire"
#create war variable
war_strat$Wcut= cut(war_strat$year,
breaks=c(1739,1748,1755,1763,1777,1783, 1792, 1807,1815, 1840),
labels = FALSE)
war_strat$war = ifelse(((war_strat$Wcut %% 2) == 0), 0, 1)
war_strat$war = ifelse((war_strat$Wcut == 9), 0, war_strat$war)
war_strat$war = ifelse((war_strat$Wcut == 8), 1, war_strat$war)
#create major battle variable
war_strat$battle= cut(war_strat$year,
breaks=c(1739,1746,1747,1758,1760,1761,1762, 1793, 1794,1797, 1798, 1804, 1806,1808, 1809, 1821),
labels = FALSE)
war_strat$battle_dummy = ifelse(((war_strat$Wcut %% 2) == 0), 1, 0)
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "log")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "log")[[1]]
)
log_wartime_nosum_corr = bind_rows(dflist)
View(log_wartime_nosum_corr)
log_wartime_nosum_mreg = data.frame(
year = war_strat$year,
loss = war_strat$loss,
prizes_import=fwartime_corr_df(war_strat,"prizes_import",1,0, "log")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",1,0, "log")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",1,0, "log")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",1,0, "log")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "log")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "log")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_wartime_nosum_mreg)
summary(m)
log_wartime_nosum_mreg = data.frame(
year = war_strat[war_strat$war==1,]$year,
loss = war_strat[war_strat$war==1,]$loss,
prizes_import=fwartime_corr_df(war_strat,"prizes_import",1,0, "log")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",1,0, "log")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",1,0, "log")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",1,0, "log")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",1,0, "log")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",1,0, "log")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,0, "log")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_wartime_nosum_mreg)
summary(m)
dflist = list(
fwartime_corr_df(war_strat, "prizes_import",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "num_prizes_priv",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "colonial_empire",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "France_vs_GB",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "ally_vs_foe",1,1, "log")[[1]],
fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,1, "log")[[1]]
)
log_wartime_sum_mreg = data.frame(
year = war_strat[war_strat$war==1,]$year,
loss = war_strat[war_strat$war==1,]$loss,
prizes_import=fwartime_corr_df(war_strat,"prizes_import",1,1, "log")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",1,1, "log")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",1,1, "log")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",1,1, "log")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",1,1, "log")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",1,1, "log")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",1,1, "log")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_wartime_nosum_mreg)
summary(m)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_wartime_sum_mreg)
summary(m)
rm(m)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_wartime_sum_mreg)
summary(m)
log_peacewartime_sum_mreg = data.frame(
year = war_strat[war_strat$war==1,]$year,
loss = war_strat[war_strat$war==1,]$loss,
prizes_import=fwartime_corr_df(war_strat,"prizes_import",0,1, "log")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",0,1, "log")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",0,1, "log")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",0,1, "log")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",0,1, "log")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",0,1, "log")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",0,1, "log")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_peacewartime_sum_mreg)
summary(m)
log_peacewartime_sum_mreg = data.frame(
year = war_strat$year,
loss = war_strat$loss,
prizes_import=fwartime_corr_df(war_strat,"prizes_import",0,1, "log")[[2]],
num_prizes=fwartime_corr_df(war_strat, "num_prizes",0,1, "log")[[2]],
num_prizes_priv=fwartime_corr_df(war_strat, "num_prizes_priv",0,1, "log")[[2]],
colonial_empire=fwartime_corr_df(war_strat, "colonial_empire",0,1, "log")[[2]],
France_vs_GB=fwartime_corr_df(war_strat, "France_vs_GB",0,1, "log")[[2]],
ally_vs_foe=fwartime_corr_df(war_strat, "ally_vs_foe",0,1, "log")[[2]],
allyandneutral_vs_foe=fwartime_corr_df(war_strat, "allyandneutral_vs_foe",0,1, "log")[[2]]
)
m = lm(loss~prizes_import + num_prizes+num_prizes_priv+colonial_empire+
France_vs_GB+ally_vs_foe+allyandneutral_vs_foe,
data = log_peacewartime_sum_mreg)
summary(m)
