loss = read.csv(paste(toflitDir,"database_csv/mean_annual_lossGB.csv", sep = ""))
names(loss)[names(loss) == 'loss_war'] = 'loss'
names(loss)[names(loss) == 'loss_war_nomemory'] = 'loss_nomemory'
loss = loss %>% group_by(period) %>% mutate(mean_loss=mean(loss, na.rm = TRUE))
loss = loss %>% group_by(period) %>% mutate(mean_loss_nomemory=mean(loss_nomemory, na.rm = TRUE))
df = fmean_annual_loss_df(loss, "GB")
loss = floss_plot(df)
print(loss)
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "floss_plot.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fmean_annual_loss_df.R", sep = "" ))
loss = read.csv(paste(toflitDir,"database_csv/mean_annual_lossGB.csv", sep = ""))
names(loss)[names(loss) == 'loss_war'] = 'loss'
names(loss)[names(loss) == 'loss_war_nomemory'] = 'loss_nomemory'
loss = loss %>% group_by(period) %>% mutate(mean_loss=mean(loss, na.rm = TRUE))
loss = loss %>% group_by(period) %>% mutate(mean_loss_nomemory=mean(loss_nomemory, na.rm = TRUE))
View(fmean_annual_loss_df)
df = fmean_annual_loss_df(loss)
loss = floss_plot(df)
print(loss)
View(floss_plot)
ggsave(paste(HamburgPaperDir,PaperDir, "GBmean_annual_loss.pdf", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fexpenditures_annual_loss_df.R", sep = "" ))
loss_df = read.csv(paste(toflitDir,"database_csv/expenditures_annual_loss.csv", sep = ""))
exp_loss = fexpenditures_annual_loss_df(loss_df)
loss = ggplot(exp_loss) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= loss, color = loss_type)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1825, by = 10), limits = c(1740,1825)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442","#D55E00", "#CC79A7"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Expenditures_Annual_Los.pdf", sep = "" ))
loss = ggplot(exp_loss[(exp_loss$loss_type!="Using all past peace periods for the peace trend" &
exp_loss$loss_type!="Using the preceeding peace period for the peace trend"),]) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= loss, color = loss_type)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1825, by = 10), limits = c(1740,1825)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
loss = ggplot(exp_loss) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= loss, color = loss_type)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1825, by = 10), limits = c(1740,1825)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442","#D55E00", "#CC79A7"))
print(loss)
loss = ggplot(exp_loss[(exp_loss$loss_type!="Using all past peace periods for the peace trend" &
exp_loss$loss_type!="Using the preceeding peace period for the peace trend"),]) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= loss, color = loss_type)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1825, by = 10), limits = c(1740,1825)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Costs_and_benefits.pdf", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fcumulated_costs_and_benefits_df.R", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Paper/Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
seatrade = read.csv(paste(toflitDir,"database_csv/share_by_sea.csv", sep = ""))
trade = ggplot(seatrade) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= share_sea)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = 'bottom',
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black"),
legend.text = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.title.y = element_text(family ="LM Roman 10"),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_color_manual(values = c("#1B9E77")) +
scale_x_continuous(breaks = seq(1740, 1830, by = 10), limits = c(1740,1830)) +
ylab("Imputed share of trade")
print(trade)
trade = ggplot(seatrade) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= share_sea)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = 'bottom',
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black"),
legend.text = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.title.y = element_text(family ="LM Roman 10"),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_color_manual(values = c("#1B9E77")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820)) +
ylab("Imputed share of trade")
print(trade)
ggsave(paste(HamburgPaperDir,PaperDir, "share_by_sea.pdf", sep = "" ))
trade = ggplot(seatrade) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= share_sea), color = "#D55E00") +
theme_few() +
theme(legend.title = element_blank(),
legend.position = 'bottom',
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black"),
legend.text = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.title.y = element_text(family ="LM Roman 10"),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_color_manual(values = c("#1B9E77")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820)) +
ylab("Imputed share of trade")
print(trade)
ggsave(paste(HamburgPaperDir,PaperDir, "share_by_sea.pdf", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
ratio_dfH = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossH.csv", sep = ""))
ratio_dfL = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossL.csv", sep = ""))
ratio_expL = fratio_BR_expenditures_annual_loss_df(ratio_dfL)
ratio_expH = fratio_BR_expenditures_annual_loss_df(ratio_dfH)
ratio_expL_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expL, "L")
print(ratio_expL_plot)
ratio_expH_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expH, "H")
print(ratio_expH_plot)
View(fratio_BR_expenditures_annual_loss_plot)
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
ratio_dfH = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossH.csv", sep = ""))
ratio_dfL = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossL.csv", sep = ""))
ratio_expL = fratio_BR_expenditures_annual_loss_df(ratio_dfL)
ratio_expH = fratio_BR_expenditures_annual_loss_df(ratio_dfH)
ratio_expL_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expL, "L")
print(ratio_expL_plot)
ratio_expH_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expH, "H")
print(ratio_expH_plot)
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
ratio_dfH = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossH.csv", sep = ""))
ratio_dfL = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossL.csv", sep = ""))
ratio_expL = fratio_BR_expenditures_annual_loss_df(ratio_dfL)
ratio_expH = fratio_BR_expenditures_annual_loss_df(ratio_dfH)
ratio_expL_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expL, "L")
print(ratio_expL_plot)
ratio_expH_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expH, "H")
print(ratio_expH_plot)
ggarrange(ratio_expL_plot, ratio_expH_plot, common.legend = TRUE, legend = "bottom")
ggsave(paste(HamburgDir,RscriptDir,NewgraphsDir, "ratio_BR_expenditures_ennual_loss.pdf", sep = "" ))
ggsave(paste(HamburgPaperDir,PaperDir, "ratio_BR_expenditures_ennual_loss.pdf", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fprizes_nationality_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
color = c("Navy's prizes (estimated time of capture from 1973)" = "#0072B2",
"Privateers' prizes" = "#56B4E9",
"Share of non Fench prizes among privateers's prizes" = "#E69F00")
prizes = read.csv(paste(toflitDir,"database_csv/prizes.csv", sep = ""))
ggplot(prizes, aes(x=year)) +
geom_bar(aes(y=Number_of_prizes_Total_All, fill = "Navy's prizes (estimated time of capture from 1973)"),
stat="identity", size=.1, color = "#000000") +
geom_bar(aes(y=Number_of_prizes_Privateers_All, fill = "Privateers' prizes"),
stat="identity", size=.1, color = "#000000") +
geom_line(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes")) +
geom_point(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes")) +
theme_few() +
theme(legend.title = element_blank(),
legend.key.height=unit(.5, "cm"),
legend.position = "bottom",
axis.title.y = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
#legend.box="vertical",
#legend.margin=margin(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1800, by = 10), limits = c(1740,1801)) +
scale_y_continuous(name = "Number of prizes",
sec.axis = sec_axis(~./700, name = "Share of privateers' prizes")) +
scale_fill_manual(values = color, guide = 'legend') +
scale_color_manual(values = color) +
guides(fill = guide_legend(nrow = 2))
ggsave(paste(HamburgDir,RscriptDir,NewgraphsDir, "Prizes.pdf", sep = "" ))
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes.pdf", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "floss_plot.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fnaval_supremacy_df.R", sep = "" ))
naval_supremacy = read.csv(paste(toflitDir,"database_csv/naval_supremacy.csv", sep = ""))
df = fnaval_supremacy_df(naval_supremacy)
loss = ggplot(df) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_hline(yintercept = 1, color = "#D55E00") +
geom_line(aes(x=year, y= naval_supremacy_ratio, color=naval_supremacy_type)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = 'bottom',
legend.background = element_blank(),
legend.text = element_text(family ="LM Roman 10"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820)) +
scale_color_manual(values = c("France/GB" = "#1B9E77",
"France and its allies/GB and its allies" = "#E6AB02",
"France, its allies and neutral/GB and its allies" = "#56B4E9"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "naval_supremacy_ratio.pdf", sep = "" ))
prizes = read.csv(paste(HamburgDir,"database_csv/prizes_imports.csv", sep = ""))
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.pdf", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fprizes_nationality_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
color = c("Navy's prizes (estimated time of capture from 1973)" = "#0072B2",
"Privateers' prizes" = "#56B4E9",
"Share of non Fench prizes among privateers's prizes" = "#E69F00")
prizes = read.csv(paste(toflitDir,"database_csv/prizes.csv", sep = ""))
ggplot(prizes, aes(x=year)) +
geom_bar(aes(y=Number_of_prizes_Total_All, fill = "Navy's prizes (estimated time of capture from 1973)"),
stat="identity", size=.1, color = "#000000") +
geom_bar(aes(y=Number_of_prizes_Privateers_All, fill = "Privateers' prizes"),
stat="identity", size=.1, color = "#000000") +
geom_line(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes")) +
geom_point(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes")) +
theme_few() +
theme(legend.title = element_blank(),
legend.key.height=unit(.5, "cm"),
legend.position = "bottom",
axis.title.y = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
#legend.box="vertical",
#legend.margin=margin(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1800, by = 10), limits = c(1740,1801)) +
scale_y_continuous(name = "Number of prizes",
sec.axis = sec_axis(~./700, name = "Share of privateers' prizes")) +
scale_fill_manual(values = color, guide = 'legend') +
scale_color_manual(values = color) +
guides(fill = guide_legend(nrow = 2))
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes.pdf", sep = "" ))
prizes = read.csv(paste(toflitDir,"database_csv/prizes_imports.csv", sep = ""))
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
ggplot(prizes, aes(x=year)) +
geom_bar(aes(y=importofprizegoodspoundsterling, fill = "Absolute value"), stat="identity", size=.1, color = "#000000") +
geom_line(aes(y=share_prizes*14500, color = "Share of French trade")) +
geom_point(aes(y=share_prizes*14500, color = "Share of French trade")) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title.y = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1800, by = 10), limits = c(1740,1801)) +
guides(colour = guide_legend(override.aes = list(linetype = 1))) +
scale_y_continuous(name = "Imports of prize goods (£000)",
sec.axis = sec_axis(~./14500, name = "Share of French trade")) +
scale_fill_manual(values = color, guide = 'legend') +
scale_color_manual(values = color)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_imports.pdf", sep = "" ))
prizes = read.csv(paste(HamburgDir,"database_csv/prizes_nationality.csv", sep = ""))
prizes_nat = fprizes_nationality_df(prizes)
prizes_nat$prizes = ifelse(prizes_nat$prizes>100, NA, prizes_nat$prizes)
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
prizes = read.csv(paste(toflitDir,"database_csv/prizes_nationality.csv", sep = ""))
prizes_nat = fprizes_nationality_df(prizes)
prizes_nat$prizes = ifelse(prizes_nat$prizes>100, NA, prizes_nat$prizes)
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality)) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.pdf", sep = "" ))
rm(list = ls())
