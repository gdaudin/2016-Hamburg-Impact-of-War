library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
View(fratio_BR_expenditures_annual_loss_plot)
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
ratio_dfH = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossH.csv", sep = ""))
ratio_dfL = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossL.csv", sep = ""))
ratio_expL = fratio_BR_expenditures_annual_loss_df(ratio_dfL)
ratio_expH = fratio_BR_expenditures_annual_loss_df(ratio_dfH)
ratio_expL_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expL, "L")
print(ratio_expL_plot)
ratio_expH_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expH, "H")
print(ratio_expH_plot)
ggarrange(ratio_expL_plot, ratio_expH_plot, common.legend = TRUE, legend = "bottom")
ggsave(paste(HamburgPaperDir,PaperDir, "ratio_BR_expenditures_annual_loss.png", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fratio_BR_expenditures_annual_loss_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
ratio_dfH = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossH.csv", sep = ""))
ratio_dfL = read.csv(paste(toflitDir,"database_csv/ratio_BR_expenditures_ennual_lossL.csv", sep = ""))
ratio_expL = fratio_BR_expenditures_annual_loss_df(ratio_dfL)
ratio_expH = fratio_BR_expenditures_annual_loss_df(ratio_dfH)
ratio_expL_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expL, "L")
print(ratio_expL_plot)
ratio_expH_plot = fratio_BR_expenditures_annual_loss_plot(ratio_expH, "H")
print(ratio_expH_plot)
ggarrange(ratio_expL_plot, ratio_expH_plot, common.legend = TRUE, legend = "bottom")
ggsave(paste(HamburgPaperDir,PaperDir, "ratio_BR_expenditures_annual_loss.png", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
library(ggpubr)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fprizes_nationality_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
color = c("Navy's prizes (estimated time of capture from 1793)" = "#0072B2",
"Privateers' prizes" = "#56B4E9",
"Share of non Fench prizes among privateers's prizes" = "#E69F00")
prizes = read.csv(paste(toflitDir,"database_csv/prizes.csv", sep = ""))
ggplot(prizes, aes(x=year)) +
geom_bar(aes(y=Number_of_prizes_Total_All, fill = "Navy's prizes (estimated time of capture from 1793)"),
stat="identity", size=.1, color = "#000000") +
geom_bar(aes(y=Number_of_prizes_Privateers_All, fill = "Privateers' prizes"),
stat="identity", size=.1, color = "#000000") +
geom_line(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes"), size = 1) +
geom_point(aes(y=share_of_non_FR_prizes*700, color ="Share of non Fench prizes among privateers's prizes")) +
theme_few() +
theme(legend.title = element_blank(),
legend.key.height=unit(.5, "cm"),
legend.position = "bottom",
axis.title.y = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
#legend.box="vertical",
#legend.margin=margin(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820)) +
scale_y_continuous(name = "Number of prizes",
sec.axis = sec_axis(~./700, name = "Share of privateers' prizes")) +
scale_fill_manual(values = color, guide = 'legend') +
scale_color_manual(values = color) +
guides(fill = guide_legend(nrow = 2))
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes.png", sep = "" ))
prizes = read.csv(paste(toflitDir,"database_csv/prizes_imports.csv", sep = ""))
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
ggplot(prizes, aes(x=year)) +
geom_bar(aes(y=importofprizegoodspoundsterling, fill = "Absolute value"), stat="identity", size=.1, color = "#000000") +
geom_line(aes(y=share_prizes*14500, color = "Share of French trade"), size = 1) +
geom_point(aes(y=share_prizes*14500, color = "Share of French trade")) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title.y = element_text(family ="LM Roman 10"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1801, by = 10), limits = c(1740,1801)) +
guides(colour = guide_legend(override.aes = list(linetype = 1))) +
scale_y_continuous(name = "Imports of prize goods (Â£000)",
sec.axis = sec_axis(~./14500, name = "Share of French trade")) +
scale_fill_manual(values = color, guide = 'legend') +
scale_color_manual(values = color)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_imports.png", sep = "" ))
prizes = read.csv(paste(toflitDir,"database_csv/prizes_nationality.csv", sep = ""))
prizes_nat = fprizes_nationality_df(prizes)
prizes_nat$prizes = ifelse(prizes_nat$prizes>100, NA, prizes_nat$prizes)
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality), size = 1) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.png", sep = "" ))
rm(list = ls())
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "floss_plot.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fnaval_supremacy_df.R", sep = "" ))
naval_supremacy = read.csv(paste(toflitDir,"database_csv/naval_supremacy.csv", sep = ""))
df = fnaval_supremacy_df(naval_supremacy)
loss = ggplot(df) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_hline(yintercept = 1, color = "#D55E00") +
geom_line(aes(x=year, y= naval_supremacy_ratio, color=naval_supremacy_type), size = 1) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = 'bottom',
legend.background = element_blank(),
legend.text = element_text(family ="LM Roman 10"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820)) +
scale_color_manual(values = c("France/GB" = "#1B9E77",
"France and its allies/GB and its allies" = "#E6AB02",
"France, its allies and neutral/GB and its allies" = "#56B4E9"))
print(loss)
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "naval_supremacy_ratio.png", sep = "" ))
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli") HamburgDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
RscriptDir = "Paper/Do-files/Rscripts/"
GraphDir = "Graphs/"
NewgraphsDir = "New graphs/"
colony_loss = read.csv(paste(HamburgDir,"database_csv/colony_loss.csv", sep = ""))
loss = ggplot(colony_loss) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= weight_france, color = "#D55E00"), size = 1) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "none",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820))
print(loss)
ggsave(paste(HamburgDir,RscriptDir,NewgraphsDir, "colony_loss.png", sep = "" ))
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
DataframeDir = "Dataframe/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
colony_loss = read.csv(paste(HamburgDir,"database_csv/colony_loss.csv", sep = ""))
loss = ggplot(colony_loss) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= weight_france, color = "#D55E00"), size = 1) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "none",
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
panel.background = element_blank(),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
panel.border = element_rect(color = "black", fill = NA),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_x_continuous(breaks = seq(1740, 1820, by = 10), limits = c(1740,1820))
print(loss)
ggsave(paste(HamburgDir,RscriptDir,NewgraphsDir, "colony_loss.png", sep = "" ))
ggsave(paste(HamburgPaperDir,PaperDir, "colony_loss.png", sep = "" ))
prizes = read.csv(paste(toflitDir,"database_csv/prizes_nationality.csv", sep = ""))
prizes_nat = fprizes_nationality_df(prizes)
prizes_nat$prizes = ifelse(prizes_nat$prizes>100, NA, prizes_nat$prizes)
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality), size = 1) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_y_continuous(name = "Number of prizes") +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.png", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,DataframeDir, "fprizes_nationality_df.R", sep = "" ))
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "fratio_BR_expenditures_annual_loss_plot.R", sep = "" ))
prizes_nat = fprizes_nationality_df(prizes)
prizes_nat$prizes = ifelse(prizes_nat$prizes>100, NA, prizes_nat$prizes)
color = c("Absolute value" = "#0072B2",
"Share of French trade" = "#E69F00")
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality), size = 1) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_y_continuous(name = "Number of prizes") +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.png", sep = "" ))
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality), size = 1) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title.x = element_blank(),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_y_continuous(name = "Number of prizes") +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
loss = ggplot(prizes_nat) +
geom_rect(aes(xmin=1745, xmax=1748, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1756, xmax=1763, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1778, xmax=1783, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1793, xmax=1807, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#999999") +
geom_rect(aes(xmin=1808, xmax=1815, ymin=-Inf, ymax=Inf), alpha=.03, fill = "#0072B2") +
geom_line(aes(x=year, y= prizes, color = prizes_nationality), size = 1) +
geom_point(aes(x=year, y= prizes, color = prizes_nationality)) +
theme_few() +
theme(legend.title = element_blank(),
legend.position = "bottom",
legend.key.height=unit(.5, "cm"),
axis.title.x = element_blank(),
axis.title.y = element_text(family ="LM Roman 10"),
axis.text = element_text(family ="LM Roman 10"),
#panel.background = element_blank(),
#legend.box.background = element_rect(colour = "black"),
panel.grid.major.y = element_line(color = "grey", size = 0.12),
plot.title = element_text(hjust = 0.5, family ="LM Roman 10"),
strip.text = element_text(size=15, family ="LM Roman 10")) +
scale_y_continuous(name = "Number of prizes") +
scale_x_continuous(breaks = seq(1740, 1815, by = 10), limits = c(1740,1815)) +
scale_color_manual(values=c("#E69F00", "#56B4E9", "#009E73", "#F0E442"))
print(loss)
ggsave(paste(HamburgPaperDir,PaperDir, "Prizes_nationality.png", sep = "" ))
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "floss_by_war_status_plot.R", sep = "" ))
loss = read.csv(paste(toflitDir,"database_csv/loss_by_war_status.csv", sep = ""))
df = rbind(
data.frame(
year = loss$year,
export_import = loss$export_import,
war_status = loss$war_status,
loss = loss$weighted_mean_loss,
loss_type = rep("Weighted mean loss", length(loss$weighted_mean_loss))),
data.frame(
year = loss$year,
export_import = loss$export_import,
war_status = loss$war_status,
loss = loss$average_mean_loss,
loss_type = rep("Average mean loss", length(loss$weighted_mean_loss)))
)
df$war_status = ifelse(df$war_status=="ally", "Ally", df$war_status)
df$war_status = ifelse(df$war_status=="foe", "Foe", df$war_status)
df$war_status = ifelse(df$war_status=="neutral", "Neutral", df$war_status)
df$war_status = ifelse(df$war_status=="colonies", "Colonies", df$war_status)
View(floss_by_war_status_plot)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(extrafont)
library(ggthemes)
library(tidyverse)
library(whoami)
loadfonts()
if(username()=="Tirindelli"){
HamburgPaperDir = "/Users/Tirindelli/Desktop/HamburgPaper/"
toflitDir = "/Volumes/GoogleDrive/My Drive/Hamburg/"
}
RscriptDir = "Do-files/Rscripts/"
GraphDir = "Graphs/"
NewgraphsDir = "New graphs/"
PaperDir = "Paper - Impact of War/Paper/"
source(paste(HamburgPaperDir,RscriptDir,GraphDir, "floss_by_war_status_plot.R", sep = "" ))
loss = read.csv(paste(toflitDir,"database_csv/loss_by_war_status.csv", sep = ""))
df = rbind(
data.frame(
year = loss$year,
export_import = loss$export_import,
war_status = loss$war_status,
loss = loss$weighted_mean_loss,
loss_type = rep("Weighted mean loss", length(loss$weighted_mean_loss))),
data.frame(
year = loss$year,
export_import = loss$export_import,
war_status = loss$war_status,
loss = loss$average_mean_loss,
loss_type = rep("Average mean loss", length(loss$weighted_mean_loss)))
)
df$war_status = ifelse(df$war_status=="ally", "Ally", df$war_status)
df$war_status = ifelse(df$war_status=="foe", "Foe", df$war_status)
df$war_status = ifelse(df$war_status=="neutral", "Neutral", df$war_status)
df$war_status = ifelse(df$war_status=="colonies", "Colonies", df$war_status)
loss = floss_by_war_status_plot(df[df$export_import=="XI",])
ggsave(paste(HamburgPaperDir,PaperDir, "loss_by_war_status_XI.png", sep = "" ))
Xloss = floss_by_war_status_plot(df[df$export_import=="Exports",])
Xloss = Xloss +
theme(plot.margin = margin(.5, .1, .1, .1, "cm"),
plot.background = element_rect(
fill = NA,
colour = "black",
size = .8),
legend.box.background = element_blank())
Iloss = floss_by_war_status_plot(df[df$export_import=="Imports",])
Iloss = Iloss +
theme(plot.margin = margin(.5, .1, .1, .1, "cm"),
plot.background = element_rect(
fill = NA,
colour = "black",
size = .8),
legend.box.background = element_blank())
ggarrange(Xloss, NULL, Iloss, ncol = 1, heights = c(1, 0.01, 1),
common.legend = TRUE, legend = "bottom", labels = c("Exports", "", "Imports"),
font.label = list(family = "LM Roman 10", face = "bold"))
ggsave(paste(HamburgDir,RscriptDir,NewgraphsDir, "loss_by_war_status_X_I_combined.png", sep = "" ),
height = 9.5, width = 8.7)
ggsave(paste(HamburgPaperDir, PaperDir, "loss_by_war_status_X_I_combined.png", sep = "" ),
height = 9.5, width = 8.7)
